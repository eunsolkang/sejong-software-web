{"ast":null,"code":"import _defineProperty from \"/Users/gang-eunsol/Desktop/blog-project/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/gang-eunsol/Desktop/blog-project/src/containers/editor/EditorHeaderContainer.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport EditorHeader from 'components/editor/EditorHeader';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport queryString from 'query-string';\nimport * as editorActions from 'store/modules/editor';\n\nclass EditorHeaderContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleGoBack = () => {\n      const history = this.props.history;\n      history.goBack();\n    };\n\n    this.handleSubmit = async () => {\n      const _this$props = this.props,\n            title = _this$props.title,\n            markdown = _this$props.markdown,\n            tags = _this$props.tags,\n            EditorActions = _this$props.EditorActions,\n            history = _this$props.history,\n            location = _this$props.location;\n      const post = {\n        board_ix: 2,\n        title: title,\n        contents: markdown\n      };\n\n      try {\n        const _queryString$parse = queryString.parse(location.search),\n              id = _queryString$parse.id;\n\n        if (id) {\n          await EditorActions.editPosst(_objectSpread({\n            id\n          }, post));\n          history.push(\"/post/\".concat(id));\n          return;\n        }\n\n        await EditorActions.writePost(post);\n        history.push(\"/post/\".concat(this.props.postId));\n      } catch (e) {\n        console.log(e);\n      }\n    };\n  }\n\n  componentDidMount() {\n    const _this$props2 = this.props,\n          EditorActions = _this$props2.EditorActions,\n          location = _this$props2.location;\n    EditorActions.initialize();\n\n    const _queryString$parse2 = queryString.parse(location.search),\n          id = _queryString$parse2.id;\n\n    if (id) {\n      EditorActions.getPost(id);\n    }\n  }\n\n  render() {\n    const handleGoBack = this.handleGoBack,\n          handleSubmit = this.handleSubmit;\n\n    const _queryString$parse3 = queryString.parse(this.props.location.search),\n          id = _queryString$parse3.id;\n\n    console.log(id);\n    return React.createElement(EditorHeader, {\n      onGoBack: handleGoBack,\n      onSubmit: handleSubmit,\n      isEdit: id ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default connect(state => ({\n  title: state.editor.get('title'),\n  markdown: state.editor.get('markdown'),\n  tags: state.editor.get('tags'),\n  postId: state.editor.get('postId')\n}), dispatch => ({\n  EditorActions: bindActionCreators(editorActions, dispatch)\n}))(withRouter(EditorHeaderContainer));","map":{"version":3,"sources":["/Users/gang-eunsol/Desktop/blog-project/src/containers/editor/EditorHeaderContainer.js"],"names":["React","PropTypes","EditorHeader","connect","bindActionCreators","withRouter","queryString","editorActions","EditorHeaderContainer","Component","handleGoBack","history","props","goBack","handleSubmit","title","markdown","tags","EditorActions","location","post","board_ix","contents","parse","search","id","editPosst","push","writePost","postId","e","console","log","componentDidMount","initialize","getPost","render","state","editor","get","dispatch"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport EditorHeader from 'components/editor/EditorHeader';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport queryString from 'query-string';\n\nimport * as editorActions from 'store/modules/editor';\n\nclass EditorHeaderContainer extends React.Component {\n  componentDidMount(){\n    const { EditorActions , location } = this.props;\n    EditorActions.initialize();\n    const { id } = queryString.parse(location.search);\n    if( id ) {\n      EditorActions.getPost(id);\n    }\n  }\n  handleGoBack = () =>{\n    const { history } = this.props;\n    history.goBack();\n  }\n\n  handleSubmit = async() =>{\n    const { title, markdown, tags, EditorActions, history, location} = this.props;\n    const post = {\n      board_ix : 2,\n      title : title,\n      contents : markdown,\n    };\n    try{\n      const { id } = queryString.parse(location.search);\n      if(id ){\n        await EditorActions.editPosst({id, ...post});\n        history.push(`/post/${id}`);\n        return;\n      }\n      await EditorActions.writePost(post);\n      history.push(`/post/${this.props.postId}`);\n    } catch(e){\n      console.log(e);\n    }\n  }\n  render () {\n    const { handleGoBack, handleSubmit } = this;\n    const {id } = queryString.parse(this.props.location.search);\n    console.log(id);\n    return (\n      <EditorHeader\n        onGoBack={handleGoBack}\n        onSubmit={handleSubmit}\n        isEdit={id ? true : false}\n      />\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({\n    title : state.editor.get('title'),\n    markdown : state.editor.get('markdown'),\n    tags : state.editor.get('tags'),\n    postId : state.editor.get('postId')\n  }),\n  (dispatch) => ({\n    EditorActions : bindActionCreators(editorActions, dispatch)\n  })\n)(withRouter(EditorHeaderContainer));\n"]},"metadata":{},"sourceType":"module"}